# Сервис генерации числового мультипликатора (RTP Multiplier Service)

Практическое задание в рамках отбора на позицию **Junior Golang Developer**.

## Математическое обоснование логики

Цель сервиса — управлять **долгосрочным средним результатом** на стороне клиента, приводя его к заданному значению **rtp**. На языке теории вероятности это можно сформулировать так:

$$E[\text{transformed\\_x}] = \text{rtp}$$

Выразим формулу для расчета RTP.

### Шаг 1: Определение возможных исходов

Для любого числа **x** из последовательности клиента существует два исхода:

* **Выигрыш**: Если `multiplier > x`, итоговое значение становится `x`.
* **Проигрыш**: Если `multiplier ≤ x`, итоговое значение становится `0`.

### Шаг 2: Расчет математического ожидания

Математическое ожидание **E** вычисляется как сумма произведений значений всех возможных исходов на их вероятности.

В применении этой формулы к нашему случаю:

$$E[\text{transformed\\_x}] = (\text{значение\\_при\\_выигрыше} \bullet P(\text{выигрыш})) + (\text{значение\\_при\\_проигрыше} \bullet P(\text{проигрыш}))$$

Подставляя соответствующие значения и вероятности, получаем:

$$E[\text{transformed\\_x}] = (x \bullet P(\text{multiplier} > x)) + (0 \bullet P(\text{multiplier} \leq x))$$

Упростим:

$$E[\text{transformed\\_x}] = x \bullet P(\text{multiplier} > x)$$

### Шаг 3: Вывод уравнения

Поскольку ($E[\text{transformed\\_x}] = \text{rtp}$), получаем:

$$\text{rtp} = x \bullet P(\text{multiplier} > x)$$

Соответственно, итоговая формула для RTP выглядит следующим образом:

$$P(\text{multiplier} > x) = \frac{\text{rtp}}{x}$$

## Пример запуска

```bash
$ go run . -rtp=0.95
```

Сервер будет запущен по адресу ```http://localhost:64333```.  
Также приложен Dockerfile для запуска сервера из контейнера с RTP, заданным в переменной окружения ```RTP```.
